---
import siteConfig from '../data/site-config';
import { url } from '../utils/common-utils';

const socialLinks = siteConfig.socialLinks ?? [];
const navLinks = siteConfig.footerNavLinks ?? [];
const currentYear = new Date().getFullYear();
---

<footer class="mx-auto w-full max-w-3xl pt-12 pb-10 sm:pt-24 sm:pb-14">
  {
    navLinks.length > 0 && (
      <nav class="mb-4 flex flex-wrap gap-x-6 gap-y-1" aria-label="Footer navigation">
        {navLinks.map((link) => (
          <a class="font-serif hover:underline hover:underline-offset-2" href={link.href}>
            {link.text}
          </a>
        ))}
      </nav>
    )
  }
  <div
    class:list={[
      'border-main flex flex-col gap-4 border-t border-dashed pt-6',
      { 'sm:flex-row-reverse sm:items-center sm:justify-between': socialLinks.length > 0 }
    ]}
  >
    {
      socialLinks.length > 0 && (
        <div class="flex flex-wrap gap-x-4 gap-y-1">
          {socialLinks.map((link) => (
            <a
              class="inline-flex items-center justify-center font-serif text-sm hover:underline hover:underline-offset-2"
              href={link.href}
              target="_blank"
              rel="noopener noreferer"
            >
              {link.text}
            </a>
          ))}
        </div>
      )
    }
    <p class="footer-text font-serif text-sm">
      @
      <a href="https://codenomnom.com" target="_blank" class="border-b border-dashed hover:border-solid">codenomnom</a>
      {['ğŸ”«', 'â¤ï¸', 'ğŸ‘‹', 'ğŸ¤“', 'âœ¨'][(5 * Math.random()) | 0]}
      <a href={url('/terms')} class="border-b border-dashed hover:border-solid">cc by-sa 4.0</a>
    </p>
    <!-- <p class="text-sm">
      &copy; {currentYear}
      <a class="hover:underline hover:underline-offset-2" href={url('/')}>{siteConfig.title}</a>. Some rights reserved.
    </p> -->
  </div>
</footer>
